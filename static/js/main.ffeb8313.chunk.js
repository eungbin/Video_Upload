(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),c=(a(58),a(24)),i=a.n(c),u=a(31),s=a(46),m=a(16),f=a(32),v=a.n(f),d=(a(77),a(78),function(e){var t=e.form,a=e.children;return r.a.createElement("main",{className:"todo-list-template"},r.a.createElement("div",{className:"title"},"\uc5c5\ub85c\ub4dc"),r.a.createElement("section",{className:"form-wrapper"},t),r.a.createElement("section",{className:"todos-wrapper"},a))}),p=(a(79),function(e){var t=e.testChange,a=e.testClick,n=e.vaule,o=e.onChange;return r.a.createElement("div",{className:"form"},r.a.createElement("input",{type:"file",name:"file",onChange:function(e){return t(e)}}),r.a.createElement("div",{className:"create-button",onClick:a},"\ucd94\uac00"),r.a.createElement("input",{type:"text",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",name:"text",value:n,onChange:o}))}),h=(a(42),a(116)),E=a(115),g=a(117),b=Object(E.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),w=function(e){var t=e.src,a=e.text,n=e.onRemove,o=e.viewVideo,l=b();return r.a.createElement("div",{className:l.root},r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(e){return o(t,a)}},"\ubcf4\uae30"),r.a.createElement(g.a,{variant:"contained",color:"primary"},"\uc218\uc815"),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(e){return n(t)}},"\uc0ad\uc81c"))},x=a(30),j=a.n(x),k=(a(100),function(e){var t=e.i,a=e.text,n=e.onRemove,o=e.viewVideo;return r.a.createElement("div",{className:"test"},r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t),r.a.createElement(w,{src:t,text:a,onRemove:n,viewVideo:o})))}),O=function(e){var t=e.movies,a=e.onRemove,n=e.viewVideo;return r.a.createElement("div",null,r.a.createElement(h.a,{display:"flex",flexDirection:"row",flexWrap:"wrap",p:1,m:1,css:{maxWidth:1500}},t.map((function(e,t){return r.a.createElement(k,{i:e.video_link,text:e.video_title,key:t,onRemove:a,viewVideo:n})}))))},C=(a(101),function(e){var t=e.i,a=e.text,n=e.onClose;return r.a.createElement("div",{className:"TestForm"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,a),r.a.createElement(j.a,{url:t,controls:!0}),r.a.createElement(g.a,{variant:"contained",color:"primary",onClick:function(e){return n()}},"\ub2eb\uae30")))}),y=function(e){var t=e.children,a=document.getElementById("modal");return l.a.createPortal(t,a)},N=a(119);var _=function(){var e=Object(n.useState)({file:null}),t=Object(m.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([{id:0,video_link:"",video_title:""}]),c=Object(m.a)(l,2),f=c[0],h=c[1],E=Object(n.useState)({path:""}),g=Object(m.a)(E,2),b=(g[0],g[1]),w=Object(n.useState)({state:!1}),x=Object(m.a)(w,2),j=x[0],k=x[1],_=Object(n.useState)({path:"",title:null}),S=Object(m.a)(_,2),R=S[0],V=S[1],W=Object(n.useState)({loading:!1}),B=Object(m.a)(W,2),D=B[0],F=B[1],A=Object(n.useState)({value:""}),I=Object(m.a)(A,2),J=I[0],M=I[1];Object(n.useEffect)((function(){fetch("http://localhost:3001/api").then((function(e){return e.json()})).then((function(e){P(e)}))}),[]);var P=function(e){var t=0,a=e.map((function(e){return{id:t+=1,video_link:e.video_link,video_title:e.title}}));h(Object(s.a)(a))},T=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a.file){e.next=3;break}return alert("\ud30c\uc77c\uc744 \uc120\ud0dd\ud574 \uc8fc\uc2ed\uc2dc\uc624."),e.abrupt("return");case 3:return t=new FormData,""===J.value&&(J.value="\uc81c\ubaa9\uc5c6\uc74c"),t.set("file",a.file),t.set("text",J.value),console.log(J.value),e.next=10,F({loading:!0});case 10:return e.next=12,v.a.post("http://localhost:3001/formData",t).then((function(e){if(console.log(e.data),!1!==e.data){P(e.data);var t=e.data[e.data.length-1].video_link;console.log(t),b({path:t}),alert("\uc5c5\ub85c\ub4dc \uc131\uacf5!")}else alert("\uc5c5\ub85c\ub4dc \uc2e4\ud328..");console.log(f)}));case 12:return e.sent,e.next=15,F({loading:!1});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("http://localhost:3001/delete",{file:t}).then((function(e){P(e.data)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",null,r.a.createElement(d,{form:r.a.createElement(p,{testChange:function(e){console.log(e.target.files[0].name);var t="",a=!1;f.map((function(n){t=n.video_link.replace("./video/",""),e.target.files[0].name===t&&(alert("\ub3d9\uc77c\ud55c \ud30c\uc77c\uc774 \uc774\ubbf8 \uc874\uc7ac\ud569\ub2c8\ub2e4."),a=!0)})),!1===a?(console.log("pandan\uc774 false\ub77c\ub294\ub370?"),o({file:e.target.files[0]})):(console.log("pandan\uc774 true\ub77c\ub294\ub370?"),o({file:null}))},testClick:T,value:J.value,onChange:function(e){M({value:e.target.value})}})},!0===D.loading?r.a.createElement(N.a,null):null,r.a.createElement(O,{movies:f,onRemove:$,viewVideo:function(e,t){k({state:!0}),V({path:e,title:t})}})),j.state&&r.a.createElement(y,null,r.a.createElement(C,{i:R.path,text:R.title,onClose:function(){k({state:!1}),V({path:"",title:""})}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports=a(102)},58:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.ffeb8313.chunk.js.map